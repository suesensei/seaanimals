<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sea Animal Matching Game</title>
  <style>
    body { font-family: sans-serif; text-align: center; }
    #game { display: grid; grid-template-columns: repeat(5, 100px); gap: 10px; justify-content: center; margin-top: 20px; }
    #game img { width: 100px; height: 100px; cursor: pointer; transition: opacity 0.3s, border 0.3s; }
    .correct { opacity: 0.5; }
    .wrong { border: 3px solid red; }
    #score, #result { margin-top: 10px; font-size: 1.2em; }
    #start-btn { margin-top: 20px; padding: 10px 20px; font-size: 1em; }
  </style>
</head>
<body>
  <h1>Sea Animal Matching Game</h1>
  <div id="score">Score: 0/10</div>
  <button id="start-btn">Start Game</button>
  <div id="game"></div>
  <audio id="audio"></audio>
  <div id="result"></div>
  <script>
    const animals = ["kappa","dolphin","shark","octopus","crab","turtle","squid","crocodile","starfish","clownfish"];
    let shuffled = [];
    let currentRound = 0;
    let score = 0;
    const startBtn = document.getElementById('start-btn');
    const gameDiv = document.getElementById('game');
    const scoreDiv = document.getElementById('score');
    const audioPlayer = document.getElementById('audio');
    const resultDiv = document.getElementById('result');

    startBtn.addEventListener('click', startGame);

    function startGame() {
      score = 0;
      currentRound = 0;
      shuffled = shuffle(animals.slice());
      scoreDiv.textContent = `Score: ${score}/10`;
      startBtn.disabled = true;
      nextRound();
    }

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function nextRound() {
      if (currentRound >= 10) {
        endGame();
        return;
      }
      const target = shuffled[currentRound];
      gameDiv.innerHTML = '';
      animals.forEach(animal => {
        const img = document.createElement('img');
        img.src = `assets/images/${animal}.png`;
        img.alt = animal;
        img.dataset.name = animal;
        img.addEventListener('click', handleImageClick);
        gameDiv.appendChild(img);
      });
      audioPlayer.src = `assets/audio/${target}.mp3`;
      audioPlayer.play();
    }

    function handleImageClick(event) {
      const selected = event.target.dataset.name;
      const target = shuffled[currentRound];
      if (selected === target) {
        score++;
        showResult('Correct!');
        event.target.classList.add('correct');
        event.target.removeEventListener('click', handleImageClick);
        scoreDiv.textContent = `Score: ${score}/10`;
        currentRound++;
        setTimeout(nextRound, 1000);
      } else {
        showResult('Try again!');
        event.target.classList.add('wrong');
        setTimeout(() => { event.target.classList.remove('wrong'); }, 500);
      }
    }

    function showResult(msg) {
      resultDiv.textContent = msg;
      setTimeout(() => { resultDiv.textContent = ''; }, 500);
    }

    function endGame() {
      resultDiv.textContent = `Game Over! You scored ${score}/10.`;
      startBtn.disabled = false;
      startBtn.textContent = 'Play Again';
    }
  </script>
</body>
</html>
